<!DOCTYPE html>
<html lang="en">
<head>
    <link rel='shortcut icon' href='../img/favicon.ico' type='image/x-icon'/ >

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Data Sketches</title>
    <meta name="author" content="Nadieh Bremer">
    <meta name="description" content="Data Sketches - February - Nature">
    <meta name="keywords" content="data, visualization, visualisation, data visualization, data visualisation, information, information visualization, information visualisation, dataviz, datavis, infoviz, infovis, collaboration, data art">

    <!-- Google fonts -->
    <link href="https://fonts.googleapis.com/css?family=Tinos:400,400i|Sacramento|Quicksand|Playfair+Display:400i" rel="stylesheet">

    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

    <!-- Moment -->
    <script src="https://momentjs.com/downloads/moment.min.js"></script>
    <script src="https://momentjs.com/downloads/moment-timezone-with-data.min.js"></script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

	  <!-- fancyBox -->
	  <link rel="stylesheet" href="../plugins/fancybox/jquery.fancybox.css" type="text/css" media="screen" />
	  <script type="text/javascript" src="../plugins/fancybox/jquery.fancybox.pack.js"></script>

    <!-- Stylesheet -->
    <link rel="stylesheet" href="../css/style.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>
<body>

  <header>
    <!-- Logo and name -->
    <div>
      <a class="hide-mobile peach kingBasil no-border" href="../january"><div class="top-links other-month-link textRight">go to January</div></a>
      <div class="month-logo"><a class="no-border" href=".."><img class="paddingTop20" src="../img/logo.png" width="120" /></a></div>
      <a class="hide-mobile peach kingBasil no-border" href="../march"><div class="top-links other-month-link textLeft">go to March</div></a>
    </div>
    <div>
      <a class="quicksand no-border" href=".."><div class="top-links datasketch-top-link"><span class="dark-grey">data sketch<span class="dark-pink">|</span>es</span></div></a>
    </div>

    <!-- Title above -->
    <div class="row">
      <div class="col-xs-12 month-page-title">
        <h2 class="kingBasil peach">February</h2>
        <h1 class="quicksand">Nature</h1>
      </div>
    </div>
  </header>

    <section id="january" class="month-page">
      <div class="nadieh background col-xs-12 col-sm-12 col-md-6 col-lg-6"></div>
      <div class="shirley background col-xs-12 col-sm-12 col-md-6 col-lg-6"></div>

      <div class="container">
        <!-- Write-ups -->
        <div class="row">
          <!-- Nadieh -->
          <div class="col-xs-12 col-md-6 write-up">
            <div class="nadieh">
              <div class="name paddingBelow kingBasil">Nadieh</div>
              <div class="time kingBasil"></div>
              <div class="location quicksand">amsterdam</div>

  			        <a href="code/nadieh"><img src="code/nadieh/img/butterfly_header_3.png" class="img-responsive img-month-top" alt="Marble Butterflies"></a>

                <h3 class="margin-top-10">week 1 <span class="light-grey">|</span> data</h3>

                <p>Such a lovely topic, nature, I expected to have loads of ideas once I started on February... But that didn't happen. After spending a bit too much time on January's visual, I had set myself a goal that I wanted to try and finish February within 20 hours, just to force myself to deliver something within a reasonable number of hours. And having a "dataviz" block wasn't helping me stay within that time limit üòû</p>

                <p>However, at some point I thought about what defines nature for me, which was evolution and the randomness of mutations that in turn can lead to "better adaptations" to the environment. Which in turn reminded me of generative art and the semi-randomness which often guides those pieces of art. I've always loved generative art and thus suddenly February seemed like the perfect month to give it a try.</p>

                <p>Now I only needed a subject to guide the randomness. The first thing I was drawn to were flowers, but damn, I could <i>not</i> find a single dataset about flowers that contained information such as the main color, average number of petals, blooming period, things like that. It was all images for image processing training or taxonomy lists (e.g. what group, family, etc. does the flower belong to). I therefore turned my attention to butterflies, for which I also have a fascination (don't ask my boyfriend how much time he's had to wait for me on vacations while I was trying to perfectly capture a butterfly, üòÖ ). But.... same problem, only taxonomy lists, no nice dataset with main wing color, size, etc.</p>

                <p>The best (start of a) dataset that I could find, <i>I kid you not</i>, was eventually found on <a href="http://www.gardenswithwings.com/identify-butterflies.html" target="_new">Gardens with Wing</a>. It at least had some pages that divided butterflies into main colors, wing shape, size and species. So I manually turned the results of this pages filters into a dataset with 86 butterflies (found <a href="data/nadieh/butterflies.csv" target="_new">here</a>).</p>
                <a class="fancybox" href="data/nadieh/gardens_with_wings.png"> <img src="data/nadieh/gardens_with_wings.png" class="img-responsive img-month" alt="The website of Gardens with Wings"></a>

                <p>The main color of a butterfly I could use to color whatever path the butterfly was going to have on my screen, the size of the butterfly could guide the thickness of the line/point, whatever I was going to make of it, and the species maybe could guide something else (the type of the path?). That wasn't a lot of information to use, but hopefully it would be enough üòÅ</p>

                <h3>week 2 <span class="light-grey">|</span> sketches</h3>

                <p>Once I figured out the butterfly and generative angle it seemed most appropriate to me to have the butterflies just flit around the screen. They always seem to fly quite randomly once they're near a plant going left, right, quite suddenly.</p>

                <p>At first I thought about using the different path options to build up the butterfly's route, maybe Skippers would be straight lines and Swallowtails would be arcs. So that's what I drew below, but after having created a very rough version of the straight lines (1st image in the code section below) I knew that was not going to work :S However, after that point I didn't really go back to sketching, but continued to develop the paths by <i>sketching</i> with code, since it can be rather difficult to truly sketch the end result of random behavior, hehe.</p>
                <a class="fancybox" href="sketches/nadieh/butterfly_sketch.jpg"> <img src="sketches/nadieh/butterfly_sketch_small.jpg" class="img-responsive img-month" alt="Very rough sketch of the butterflies"></a>

                <p>I also drew some shapes because I wanted the front of each path to be visualized by a shape moving along, where each species would get its own shape. And the right page is really just questions or ideas I wanted to keep in mind while coding, such as "should a line (e.g. butterfly) quit after a certain time?"</p>

                <h3>week 3 & 4 <span class="light-grey">|</span> code</h3>

                <p>I knew there would we many many paths all going across the screen at once with probably no interactivity, so this month I finally did it right, I started with canvas instead of d3. For my very first attempt I just wanted the simplest thing in the screen, which in my mind were representing the butterfly "particles" by random straight paths, going in a different direction on each X milliseconds.</p>
                <a class="fancybox" href="code/nadieh/img/straight_lines.png"> <img src="code/nadieh/img/straight_lines_small.jpg" class="img-responsive img-month" alt="Very first result on screen with only straight lines"></a>

                <p>Well, that looked absolutely dreadful. Which instantly taught me that making random things look beautiful was difficult (and I got even more respect of people like Jared Tarbell and Anders Hoff).</p>

                <p>I started from <a href="http://bl.ocks.org/nbremer/cbf61944aeb3204d3e4986ea645afc2b" target="_new">the sort-of generative example</a> I had used in my "SVGs beyond mere shapes" presentation, which I adjusted from Sketch.js' particle demo to create my butterflies and how to use forces and drags to create random paths for them. On each animation frame one extra step would be added to the total path of the butterfly, thus giving the idea of them "flying over the screen".</p>

                <p>The horrible screen-shot above showed me that I would probably need some smoothing of the curves, like d3's line interpolation functions. Thankfully, I could start from the code of this <a href="//http://stackoverflow.com/questions/7054272/how-to-draw-smooth-curve-through-n-points-using-javascript-html5-canvas" target="_new">stackOverflow question</a> that sort of draws a curved spline through the points that form the path of the butterfly. Below you can see some of my earliest tests, first just getting a smooth curve and once I figured that out I started to gently jitter the path of the butterflies after each frame to get a more random looking path. And once I also dropped the opacity a lot and got to the smoky bottom orange line in the image below I finally felt that this could turn out ok after all üòÑ</p>
                <a class="fancybox" href="code/nadieh/img/creating_paths.png"> <img src="code/nadieh/img/creating_paths.png" class="img-responsive img-month" alt="Tests for different butterfly paths"></a>

                <p>For ease I just let all my paths start from the center, but that did already create some interesting results once I let more butterflies free across the screen. I started to add some rules based on my actual butterfly data. Each frame a few butterflies are created, they are picked from the dataset of ¬±50 butterflies (I filtered out the browns, that's just an ugly color). The color of the butterfly path is then defined by the main color of the butterfly. However, to get more diversity I used <a href="https://github.com/bgrins/TinyColor#analogous" target="_new">Tinycolor.js</a> to pick randomly between 5 very similar colors (so for blue, it might go a bit more dark blue or a bit more aqua). The opacity and thickness of the path and the amount the path is "jittered" is governed by the size of the butterfly (I have small, medium and large). Naturally, large butterflies have thicker paths.</p>

                <video class="img-responsive img-month" src="code/nadieh/img/growing_curves_short.mp4" autoplay loop></video>

                <p>I then turned to the paths themselves. In my initial set-up, the paths were quite straight. A butterfly would dash over the screen never to be seen again. Well, to mimic a butterfly more I started to make more curved paths, but that took some effort to create in a semi-random fashion, that once a butterfly was curving towards a side it would do so for a bit of time before potentially starting to curve towards the other side. In my tests below I had actually also taken out the black butterflies, because I thought that color would also not look nice, but eventually I placed them back in. Also, the top left is when using a <i>multiply</i> blend mode on the canvas whereas for the others I had switched to <i>screen</i></p>
                <a class="fancybox" href="code/nadieh/img/butterfly_path_routes.png"> <img src="code/nadieh/img/butterfly_path_routes_small.jpg" class="img-responsive img-month" alt="Investigating the curves in the butterfly paths"></a>

                <p>Only lines seemed a bit boring, so I also played around with different paths. The smallest butterflies now get a dotted line and for one particular species, the "Skippers" I implemented circles instead of a line. But again here I had to experiment, because jittering a set of circles around will eventually only result in a very thick blobby line. In the image below the circles were drawn thankfully, but somehow the underlying path was also being filled üòÖ</p>
                <a class="fancybox" href="code/nadieh/img/circle_path_error.png"> <img src="code/nadieh/img/circle_path_error_small.jpg" class="img-responsive img-month" alt="Doing something wrong when creating the circle paths"></a>

                <p>Alright, things were starting to look better and more diverse now. I played around with different bubble effects. I quite like the "scatter" approach of the screen-shot below, but this was taken just a few seconds after initialization. If you kept it running longer, the circles would completely disappear due to the lines overdrawing the circles every frame, whereas the circles were never drawn again. Thus in the end I decided to also keep drawing the circles over and over, but only give them a very small jitter and stroke them instead of filling them.</p>
                <a class="fancybox" href="code/nadieh/img/butterfly_path_circle_scatter.png"> <img src="code/nadieh/img/butterfly_path_circle_scatter_small.jpg" class="img-responsive img-month" alt="Taken a few seconds after reload so the bubble paths are still visible quite well"></a>

                <p>Instead of the butterflies starting from the center, I had them start from right outside the screen and fly in to get a better spread (however in the final version the script randomly chooses between the center/outside set-up because I couldn't choose üòÅ  ). For fun I added the hexagon + circle of datasketches' logo in the center and played around with getting a butterfly shape in the middle of that which still looked a bit random (but recognizable as a butterfly), which eventually took about 3-4 hours to figure out o_O</p>
                <a class="fancybox" href="code/nadieh/img/outside_starting_paths.png"> <img src="code/nadieh/img/outside_starting_paths_small.jpg" class="img-responsive img-month" alt="Having the paths start from outside the screen and adding a heagon & circle logo in the center"></a>

                <p>Using <a href="https://github.com/nodebox/opentype.js">openType.js</a> that Sarah, our guest for this month, recommended I could recreate a font as a canvas path and then also wiggle that around to get a less clean look which fit better with the overall style (although in some iterations the wiggling is so weird that you can't really read it anymore, haha)</p>

                <p>The final thing that I tried was to also place markers at the start of each path, as if those were the butterflies (as I'd drawn in my sketches). The screen-shot below shows a test where I hadn't erased the earlier markers (here just circles), but it became clear quite fast that this was not going to be an improvement. The circles darting over the canvas were highly distracting and not really needed, in the first few seconds you can quite clearly see the different paths growing and twirling about, which was enough for me</p>
                <a class="fancybox" href="code/nadieh/img/testing_markers.png"> <img src="code/nadieh/img/testing_markers_small.jpg" class="img-responsive img-month" alt="Testing markers at the start of each butterfly path"></a>

                <p>After what seemed like endless tweaking of the paths to get better looking results I checked out my timing app and saw that I'd reached 19:45 hours for this month, so it was time to finish it off (with this write-up added I think I'll end somewhere around 21:30 hours). I added a link below that opens a version without all the white logo stuff on top and also a "button" (really only some text) in the bottom section to stop the animation, otherwise it just goes on an on eventually making the page white again.</p> 

                <p>I've called it "Marble Butterflies" because the smoky lines across the screen remind me of the patterns in marble. You can see the final result below, although due to the randomness, every version will be a completely unique piece of data art üòâ </p>
                <a href="code/nadieh/" target="_new"> <img src="code/nadieh/img/marble_butterflies_center_final_small.jpg" class="img-responsive img-month" alt="The final version where the butterflies start from the center"></a>

                <a href="code/nadieh/" target="_new"> <img src="code/nadieh/img/marble_butterflies_outskirts_final_small.jpg" class="img-responsive img-month" alt="The final version where the butterflies start from just outside the screen"></a>
                <p>It was quite fun to not focus on creating something that should be "understood" in a sense, but just experiment with stuff and keep the things that look kind of cool. I'd like to continue to investigate the more artful or generative side of dataviz I guess üòÉ</p>

            </div>
          </div>

          <!-- Shirley -->
          <div class="col-xs-12 col-md-6 write-up">
            <div class="shirley">
              <div class="name paddingBelow kingBasil">Shirley</div>
              <div class="time kingBasil"></div>
              <div class="location quicksand">san francisco</div>

              <!-- <a href="http://sxywu.com/obamas" target='_new'><img src="code/shirley/final.png" class="img-responsive img-month-top" alt=""></a> -->

              <h3 class="margin-top-10">week 1 <span class="light-grey">|</span> data</h3>

              <p></p>
              <!-- <a class="fancybox" href="data/shirley/years.png"> <img src="data/shirley/years.png" class="img-responsive img-month"></a> -->

              <h3>week 2 <span class="light-grey">|</span> sketches</h3>

              <p></p>

              <h3>week 3 & 4 <span class="light-grey">|</span> code</h3>

              <p></p>

            </div>
          </div>

        </div>

        <!-- Our names and website below -->
        <div class="row">
          <div class="nadieh col-xs-6">
            <div class="name kingBasil">Nadieh</div>
            <div class="quicksand"><a href="http://www.visualcinnamon.com/">VisualCinnamon.com</a></div>
          </div>

          <div class="shirley col-xs-6">
            <div class="name kingBasil">Shirley</div>
            <div class="quicksand"><a href="http://sxywu.com/">sxywu.com</a></div>
          </div>
        </div>

      </div>
    </section>

    <section id="january-guest" class="month-page">
      <div class="guest background-guest col-xs-12 col-sm-12 col-md-12 col-lg-12"></div>

      <div class="container guest-container">
        <!-- Write-up -->
        <div class="row">
          <!-- Guest -->
          <div class="col-xs-12 col-md-12 write-up">
            <div class="guest">
			  <div class="guest-introduction quicksand">introducing our guest</div>
              <div class="name-guest paddingBelow kingBasil">Sarah Drasner</div>
              <div class="time kingBasil"></div>
              <div class="location quicksand paddingBelow">san francisco</div>

                <!-- <a href="http://sxywu.com/obamas" target='_new'><img src="code/shirley/final.png" class="img-responsive img-month-top" alt="Snapshot of final image"></a> -->

                <h3>week 1 <span class="light-grey">|</span> data</h3>

                <p></p>
                <!-- <a class="fancybox" href="data/guest/database.png"><img alt="Screenshot of Scrabble database" class="img-responsive img-month" src="data/guest/database.png" /></a> -->

                <h3>week 2 <span class="light-grey">|</span> sketch</h3>

                <p></p>
                <!-- <a class="fancybox" href="sketches/guest/scrabble-2.png"><img alt="Second version" class="img-responsive img-month" src="sketches/guest/scrabble-2.png" /></a> -->

                <h3>week 3 & 4 <span class="light-grey">|</span> code</h3>

                <p></p>
                <!-- <a class="fancybox" href="code/guest/scrabble-10-11-12.png"><img alt="Versions 10, 11, and 12" class="img-responsive img-month" src="code/guest/scrabble-10-11-12.png" /></a> -->

            </div>
          </div>

        </div>

        <!-- Guest name and website below -->
        <div class="row">
          <div class="guest col-xs-12">
            <div class="name kingBasil">Sarah</div>
            <div class="quicksand"><a href="http://sarahdrasnerdesign.com/">SarahDrasnerDesign.com</a></div>
          </div>
        </div>

      </div>
    </section>

    <footer class="guest-month">
      <div class="container">
        <div>
          <span>a monthly collaboration between </span>
          <span class="kingBasil">Nadieh Bremer & Shirley Wu</span>
        </div>
        <div class="quicksand">
          <a href="https://twitter.com/datasketches">@datasketches</a><span class="pipe-divider">  |  </span>#datasketches
        </div>
        <div class="about-link quicksand">
          <a href="../about">about</a><span class="pipe-divider">  |  </span><a href="../feed.xml">rss</a><span class="pipe-divider">  |  </span><a href="https://tinyletter.com/datasketches">newsletter</a>
        </div>
      </div>
    </footer>

	<script>
  function setTime() {
    var format = 'h:mm a';
    var time = new Date();
    var nadieh = moment(time, format).tz("Europe/Amsterdam");
    var shirley = moment(time, format).tz("America/Los_Angeles");
	  var guest = moment(time, format).tz("America/Los_Angeles");
    $('.nadieh .time').text(nadieh.format(format));
    $('.shirley .time').text(shirley.format(format));
	  $('.guest .time').text(guest.format(format));

    var nadiehColor = nadieh.hour();
    nadiehColor = nadiehColor >= 18 || nadiehColor <= 6 ? 'dark' : 'light';
    var shirleyColor = shirley.hour();
    shirleyColor = shirleyColor >= 18 || shirleyColor <= 6 ? 'dark' : 'light';
    var guestColor = guest.hour();
    guestColor = guestColor >= 18 || guestColor <= 6 ? 'dark' : 'light';

    $('.nadieh').removeClass('light dark').addClass(nadiehColor);
    $('.shirley').removeClass('light dark').addClass(shirleyColor);
	$('.guest').removeClass('light dark').addClass(guestColor);
  }

  $( document ).ready( function() {
    setTime();
    setInterval(setTime, 60000);
    $(".fancybox").fancybox({
      openEffect : 'fade',
      closeEffect : 'fade',
      padding: 0,
      helpers: {
      overlay: {
        locked: false
      }
      }
    });
  });
    </script>
    
    <!-- Google analytics -->
	<script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-43942889-3', 'auto');
        ga('send', 'pageview');
    </script>

  </body>
</html>
